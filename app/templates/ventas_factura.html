{% extends "plantilla.html" %}

{% block title %}Ventas Factura{% endblock %}

{% block extra_head %}
<style>
    body {
        background-color: #f8f9fa;
    }
    .venta-card {
        transition: transform .2s;
    }
    .venta-card:hover {
        transform: scale(1.02);
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4 text-primary"><i class="bi bi-receipt"></i> Lista de Ventas</h2>

    <ul class="list-group">
        {% for venta in ventas %}
        <li class="list-group-item mb-2 shadow-sm rounded venta-card">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h6 class="mb-1">ID: {{ venta.idventas_factura }}</h6>
                    <p class="mb-0 text-muted">
                        Usuario: {{ venta.usuario.nombre if venta.usuario else 'Sin usuario' }} <br>
                        Fecha: {{ venta.fecha_venta }} <br>
                        <strong class="text-success">Total: ${{ venta.total }}</strong>
                    </p>
                </div>
                <a href="{{ url_for('ventas_factura.detalle_venta', id=venta.idventas_factura) }}" 
                   class="btn btn-sm btn-primary">
                   <i class="bi bi-eye"></i> Detalles
                </a>
            </div>
        </li>
        {% else %}
        <li class="list-group-item text-center text-muted">
            No hay ventas registradas
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
